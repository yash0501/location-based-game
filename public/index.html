<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Socket.io</title>
  </head>
  <body>
    <h1>Express and socket.io</h1>
    <button id="btn">Button</button>
    <div id="news-list"></div>
    <script
      src="https://cdn.socket.io/4.5.0/socket.io.min.js"
      integrity="sha384-7EyYLQZgWBi67fBtVxw60/OWl1kjsfrPFcaU0pp0nAh+i8FD068QogUvg85Ewy1k"
      crossorigin="anonymous"
    ></script>
    <script>
      //console.log(io);
      // var socket = io("https://arcane-atoll-63814.herokuapp.com/");
      // var socket = io("https://arcane-atoll-63814.herokuapp.com/");
      var socket = io("http://localhost:3000");
      socket.on("connect", function () {
        console.log("connected");
        console.log("clicked");
        const data = {
          "str":{"avatar":"","latitude":28.6125936,"longitude":77.3591758,"zealId":""},"teamId":"123"
        };
        // setInterval(()=>{
        socket.emit("setUserLocation", data);
        socket.on("user-joined", function (data) {
          console.log(data);
        });
        // },3000)
      });

      // const data = {
      //   teamId: "5f0e8f8f8d8e8b0f8c8d8e8b",
      //   str: "Team 1",
      // };

      // socket.on("news", function (data) {
      //   var div = document.getElementById("news-list");
      //   console.log("Rendering news : ", data);

      //   for (var i = 0; i < data.length; i++) {
      //     var newsItem = data[i];
      //     div.innerHTML +=
      //       "<h3>" +
      //       newsItem.title +
      //       " <small>" +
      //       newsItem.date +
      //       "</small></h3><br>";
      //   }

      //   socket.emit("my other event", { my: "data" });
      // });
      // function sendNews() {
      //   var title = document.getElementById("title").value;
      //   var date = document.getElementById("date").value;
      //   socket.emit("news", { title: title, date: date });
      // }

      // function setLocation(data) {
      //   socket.on("setUserLocation", function (data) {
      //     console.log("setUserLocation", data);
      //   });
      //   //socket.emit("setUserLOcation", data);
      // }
    </script>
  </body>
</html>
